(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{222:function(t,e,i){},310:function(t,e,i){"use strict";var n=i(222);i.n(n).a},315:function(t,e,i){"use strict";i.r(e);i(172),i(184);function n(t){return t>=0?1:-1}function s(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-4;return Math.abs(t-e)<i}function r(t,e,i){return Math.max(e,Math.min(i,t))}var a=i(139),o=i(141);i(146),i(292);var l=function(){function t(e,i,n,s){Object(a.a)(this,t),this._x=e||0,this._y=i||0,this._z=n||0,this._w=void 0!==s?s:1,this.isQuaternion=!0}return Object(o.a)(t,[{key:"slerp",value:function(t,e,i,n){return i.copy(t).slerp(e,n)}},{key:"slerpFlat",value:function(t,e,i,n,s,r,a){var o=i[n+0],l=i[n+1],c=i[n+2],h=i[n+3],u=s[r+0],y=s[r+1],d=s[r+2],m=s[r+3];if(h!==m||o!==u||l!==y||c!==d){var v=1-a,f=o*u+l*y+c*d+h*m,p=f>=0?1:-1,g=1-f*f;if(g>Number.EPSILON){var x=Math.sqrt(g),k=Math.atan2(x,f*p);v=Math.sin(v*k)/x,a=Math.sin(a*k)/x}var z=a*p;if(o=o*v+u*z,l=l*v+y*z,c=c*v+d*z,h=h*v+m*z,v===1-a){var _=1/Math.sqrt(o*o+l*l+c*c+h*h);o*=_,l*=_,c*=_,h*=_}}t[e]=o,t[e+1]=l,t[e+2]=c,t[e+3]=h}},{key:"set",value:function(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._w=n,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(t,e){if(!t||!t.isEuler)throw new Error("Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var i=t._x,n=t._y,s=t._z,r=t.order,a=Math.cos,o=Math.sin,l=a(i/2),c=a(n/2),h=a(s/2),u=o(i/2),y=o(n/2),d=o(s/2);return"XYZ"===r?(this._x=u*c*h+l*y*d,this._y=l*y*h-u*c*d,this._z=l*c*d+u*y*h,this._w=l*c*h-u*y*d):"YXZ"===r?(this._x=u*c*h+l*y*d,this._y=l*y*h-u*c*d,this._z=l*c*d-u*y*h,this._w=l*c*h+u*y*d):"ZXY"===r?(this._x=u*c*h-l*y*d,this._y=l*y*h+u*c*d,this._z=l*c*d+u*y*h,this._w=l*c*h-u*y*d):"ZYX"===r?(this._x=u*c*h-l*y*d,this._y=l*y*h+u*c*d,this._z=l*c*d-u*y*h,this._w=l*c*h+u*y*d):"YZX"===r?(this._x=u*c*h+l*y*d,this._y=l*y*h+u*c*d,this._z=l*c*d-u*y*h,this._w=l*c*h-u*y*d):"XZY"===r&&(this._x=u*c*h-l*y*d,this._y=l*y*h-u*c*d,this._z=l*c*d+u*y*h,this._w=l*c*h+u*y*d),!1!==e&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(t,e){var i=e/2,n=Math.sin(i);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(i),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var e,i=t.elements,n=i[0],s=i[4],r=i[8],a=i[1],o=i[5],l=i[9],c=i[2],h=i[6],u=i[10],y=n+o+u;return y>0?(e=.5/Math.sqrt(y+1),this._w=.25/e,this._x=(h-l)*e,this._y=(r-c)*e,this._z=(a-s)*e):n>o&&n>u?(e=2*Math.sqrt(1+n-o-u),this._w=(h-l)/e,this._x=.25*e,this._y=(s+a)/e,this._z=(r+c)/e):o>u?(e=2*Math.sqrt(1+o-n-u),this._w=(r-c)/e,this._x=(s+a)/e,this._y=.25*e,this._z=(l+h)/e):(e=2*Math.sqrt(1+u-n-o),this._w=(a-s)/e,this._x=(r+c)/e,this._y=(l+h)/e,this._z=.25*e),this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(t,e){var i=t.dot(e)+1;return i<1e-6?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}},{key:"angleTo",value:function(t){return 2*Math.acos(Math.abs(r(this.dot(t),-1,1)))}},{key:"rotateTowards",value:function(t,e){var i=this.angleTo(t);if(0===i)return this;var n=Math.min(1,e/i);return this.slerp(t,n),this}},{key:"inverse",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}},{key:"premultiply",value:function(t){return this.multiplyQuaternions(t,this)}},{key:"multiplyQuaternions",value:function(t,e){var i=t._x,n=t._y,s=t._z,r=t._w,a=e._x,o=e._y,l=e._z,c=e._w;return this._x=i*c+r*a+n*l-s*o,this._y=n*c+r*o+s*a-i*l,this._z=s*c+r*l+i*o-n*a,this._w=r*c-i*a-n*o-s*l,this._onChangeCallback(),this}},{key:"slerp",value:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var i=this._x,n=this._y,s=this._z,r=this._w,a=r*t._w+i*t._x+n*t._y+s*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=r,this._x=i,this._y=n,this._z=s,this;var o=1-a*a;if(o<=Number.EPSILON){var l=1-e;return this._w=l*r+e*this._w,this._x=l*i+e*this._x,this._y=l*n+e*this._y,this._z=l*s+e*this._z,this.normalize(),this._onChangeCallback(),this}var c=Math.sqrt(o),h=Math.atan2(c,a),u=Math.sin((1-e)*h)/c,y=Math.sin(e*h)/c;return this._w=r*u+this._w*y,this._x=i*u+this._x*y,this._y=n*u+this._y*y,this._z=s*u+this._z*y,this._onChangeCallback(),this}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}},{key:"fromArray",value:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}},{key:"toArray",value:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}},{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}}]),t}();function c(t,e,i,n){return new l(t,e,i,n)}var h=function(){function t(e,i,n){Object(a.a)(this,t),this.x=e||0,this.y=i||0,this.z=n||0}return Object(o.a)(t,[{key:"set",value:function(t,e,i){return this.x=t,this.y=e,this.z=i,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"multiplyVectors",value:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}},{key:"applyEuler",value:function(t){return t&&t.isEuler||console.error("Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(y.setFromEuler(t))}},{key:"applyAxisAngle",value:function(t,e){return this.applyQuaternion(y.setFromAxisAngle(t,e))}},{key:"applyMatrix3",value:function(t){var e=this.x,i=this.y,n=this.z,s=t.elements;return this.x=s[0]*e+s[3]*i+s[6]*n,this.y=s[1]*e+s[4]*i+s[7]*n,this.z=s[2]*e+s[5]*i+s[8]*n,this}},{key:"applyMatrix4",value:function(t){var e=this.x,i=this.y,n=this.z,s=t.elements,r=1/(s[3]*e+s[7]*i+s[11]*n+s[15]);return this.x=(s[0]*e+s[4]*i+s[8]*n+s[12])*r,this.y=(s[1]*e+s[5]*i+s[9]*n+s[13])*r,this.z=(s[2]*e+s[6]*i+s[10]*n+s[14])*r,this}},{key:"applyQuaternion",value:function(t){var e=this.x,i=this.y,n=this.z,s=t.x,r=t.y,a=t.z,o=t.w,l=o*e+r*n-a*i,c=o*i+a*e-s*n,h=o*n+s*i-r*e,u=-s*e-r*i-a*n;return this.x=l*o+u*-s+c*-a-h*-r,this.y=c*o+u*-r+h*-s-l*-a,this.z=h*o+u*-a+l*-r-c*-s,this}},{key:"project",value:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}},{key:"unproject",value:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}},{key:"transformDirection",value:function(t){var e=this.x,i=this.y,n=this.z,s=t.elements;return this.x=s[0]*e+s[4]*i+s[8]*n,this.y=s[1]*e+s[5]*i+s[9]*n,this.z=s[2]*e+s[6]*i+s[10]*n,this.normalize()}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}},{key:"clampLength",value:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}},{key:"lerpVectors",value:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)}},{key:"cross",value:function(t,e){return void 0!==e?(console.warn("Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}},{key:"crossVectors",value:function(t,e){var i=t.x,n=t.y,s=t.z,r=e.x,a=e.y,o=e.z;return this.x=n*o-s*a,this.y=s*r-i*o,this.z=i*a-n*r,this}},{key:"projectOnVector",value:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)}},{key:"projectOnPlane",value:function(t){return u.copy(this).projectOnVector(t),this.sub(u)}},{key:"reflect",value:function(t){return this.sub(u.copy(t).multiplyScalar(2*this.dot(t)))}},{key:"angleTo",value:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(r(e,-1,1))}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,i=this.y-t.y,n=this.z-t.z;return e*e+i*i+n*n}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}},{key:"setFromSpherical",value:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}},{key:"setFromSphericalCoords",value:function(t,e,i){var n=Math.sin(e)*t;return this.x=n*Math.sin(i),this.y=Math.cos(e)*t,this.z=n*Math.cos(i),this}},{key:"setFromCylindrical",value:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}},{key:"setFromCylindricalCoords",value:function(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}},{key:"setFromMatrixPosition",value:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}},{key:"setFromMatrixScale",value:function(t){var e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=n,this}},{key:"setFromMatrixColumn",value:function(t,e){return this.fromArray(t.elements,4*e)}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"fromArray",value:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}},{key:"toArray",value:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}},{key:"fromBufferAttribute",value:function(t,e,i){return void 0!==i&&console.warn("Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}},{key:"toFixed",value:function(t){return void 0!==t&&(this.x=parseFloat(this.x.toFixed(t)),this.y=parseFloat(this.y.toFixed(t)),this.z=parseFloat(this.z.toFixed(t))),this}},{key:"isVector3",get:function(){return!0}}],[{key:"Up",get:function(){return new t(0,1,0)}},{key:"Down",get:function(){return new t(0,1,0)}},{key:"UnitX",get:function(){return new t(1,0,0)}},{key:"UnitY",get:function(){return new t(0,1,0)}},{key:"UnitZ",get:function(){return new t(0,0,1)}}]),t}(),u=d(),y=c();function d(t,e,i){return new h(t,e,i)}d();var m=function(){function t(){Object(a.a)(this,t),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error(" Matrix4: the constructor no longer reads arguments. use .set() instead."),this.isMatrix4=!0}return Object(o.a)(t,[{key:"set",value:function(t,e,i,n,s,r,a,o,l,c,h,u,y,d,m,v){var f=this.elements;return f[0]=t,f[4]=e,f[8]=i,f[12]=n,f[1]=s,f[5]=r,f[9]=a,f[13]=o,f[2]=l,f[6]=c,f[10]=h,f[14]=u,f[3]=y,f[7]=d,f[11]=m,f[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new t).fromArray(this.elements)}},{key:"copy",value:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}},{key:"copyPosition",value:function(t){var e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}},{key:"extractBasis",value:function(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(t){var e=this.elements,i=t.elements,n=1/v.setFromMatrixColumn(t,0).length(),s=1/v.setFromMatrixColumn(t,1).length(),r=1/v.setFromMatrixColumn(t,2).length();return e[0]=i[0]*n,e[1]=i[1]*n,e[2]=i[2]*n,e[3]=0,e[4]=i[4]*s,e[5]=i[5]*s,e[6]=i[6]*s,e[7]=0,e[8]=i[8]*r,e[9]=i[9]*r,e[10]=i[10]*r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromEuler",value:function(t){t&&t.isEuler||console.error(" Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,i=t.x,n=t.y,s=t.z,r=Math.cos(i),a=Math.sin(i),o=Math.cos(n),l=Math.sin(n),c=Math.cos(s),h=Math.sin(s);if("XYZ"===t.order){var u=r*c,y=r*h,d=a*c,m=a*h;e[0]=o*c,e[4]=-o*h,e[8]=l,e[1]=y+d*l,e[5]=u-m*l,e[9]=-a*o,e[2]=m-u*l,e[6]=d+y*l,e[10]=r*o}else if("YXZ"===t.order){var v=o*c,f=o*h,p=l*c,g=l*h;e[0]=v+g*a,e[4]=p*a-f,e[8]=r*l,e[1]=r*h,e[5]=r*c,e[9]=-a,e[2]=f*a-p,e[6]=g+v*a,e[10]=r*o}else if("ZXY"===t.order){v=o*c,f=o*h,p=l*c,g=l*h;e[0]=v-g*a,e[4]=-r*h,e[8]=p+f*a,e[1]=f+p*a,e[5]=r*c,e[9]=g-v*a,e[2]=-r*l,e[6]=a,e[10]=r*o}else if("ZYX"===t.order){u=r*c,y=r*h,d=a*c,m=a*h;e[0]=o*c,e[4]=d*l-y,e[8]=u*l+m,e[1]=o*h,e[5]=m*l+u,e[9]=y*l-d,e[2]=-l,e[6]=a*o,e[10]=r*o}else if("YZX"===t.order){var x=r*o,k=r*l,z=a*o,_=a*l;e[0]=o*c,e[4]=_-x*h,e[8]=z*h+k,e[1]=h,e[5]=r*c,e[9]=-a*c,e[2]=-l*c,e[6]=k*h+z,e[10]=x-_*h}else if("XZY"===t.order){x=r*o,k=r*l,z=a*o,_=a*l;e[0]=o*c,e[4]=-h,e[8]=l*c,e[1]=x*h+_,e[5]=r*c,e[9]=k*h-z,e[2]=z*h-k,e[6]=a*c,e[10]=_*h+x}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(t){return this.compose(p,t,g)}},{key:"lookAt",value:function(t,e,i){var n=this.elements;return z.subVectors(t,e),0===z.lengthSq()&&(z.z=1),z.normalize(),x.crossVectors(i,z),0===x.lengthSq()&&(1===Math.abs(i.z)?z.x+=1e-4:z.z+=1e-4,z.normalize(),x.crossVectors(i,z)),x.normalize(),k.crossVectors(z,x),n[0]=x.x,n[4]=k.x,n[8]=z.x,n[1]=x.y,n[5]=k.y,n[9]=z.y,n[2]=x.z,n[6]=k.z,n[10]=z.z,this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn(" Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var i=t.elements,n=e.elements,s=this.elements,r=i[0],a=i[4],o=i[8],l=i[12],c=i[1],h=i[5],u=i[9],y=i[13],d=i[2],m=i[6],v=i[10],f=i[14],p=i[3],g=i[7],x=i[11],k=i[15],z=n[0],_=n[4],w=n[8],b=n[12],M=n[1],S=n[5],q=n[9],P=n[13],C=n[2],j=n[6],O=n[10],D=n[14],A=n[3],F=n[7],V=n[11],E=n[15];return s[0]=r*z+a*M+o*C+l*A,s[4]=r*_+a*S+o*j+l*F,s[8]=r*w+a*q+o*O+l*V,s[12]=r*b+a*P+o*D+l*E,s[1]=c*z+h*M+u*C+y*A,s[5]=c*_+h*S+u*j+y*F,s[9]=c*w+h*q+u*O+y*V,s[13]=c*b+h*P+u*D+y*E,s[2]=d*z+m*M+v*C+f*A,s[6]=d*_+m*S+v*j+f*F,s[10]=d*w+m*q+v*O+f*V,s[14]=d*b+m*P+v*D+f*E,s[3]=p*z+g*M+x*C+k*A,s[7]=p*_+g*S+x*j+k*F,s[11]=p*w+g*q+x*O+k*V,s[15]=p*b+g*P+x*D+k*E,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}},{key:"applyToBufferAttribute",value:function(t){for(var e=0,i=t.count;e<i;e++)v.x=t.getX(e),v.y=t.getY(e),v.z=t.getZ(e),v.applyMatrix4(this),t.setXYZ(e,v.x,v.y,v.z);return t}},{key:"determinant",value:function(){var t=this.elements,e=t[0],i=t[4],n=t[8],s=t[12],r=t[1],a=t[5],o=t[9],l=t[13],c=t[2],h=t[6],u=t[10],y=t[14];return t[3]*(+s*o*h-n*l*h-s*a*u+i*l*u+n*a*y-i*o*y)+t[7]*(+e*o*y-e*l*u+s*r*u-n*r*y+n*l*c-s*o*c)+t[11]*(+e*l*h-e*a*y-s*r*h+i*r*y+s*a*c-i*l*c)+t[15]*(-n*a*c-e*o*h+e*a*u+n*r*h-i*r*u+i*o*c)}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}},{key:"setPosition",value:function(t,e,i){var n=this.elements;return t.isVector3?(n[12]=t.x,n[13]=t.y,n[14]=t.z):(n[12]=t,n[13]=e,n[14]=i),this}},{key:"getInverse",value:function(t,e){var i=this.elements,n=t.elements,s=n[0],r=n[1],a=n[2],o=n[3],l=n[4],c=n[5],h=n[6],u=n[7],y=n[8],d=n[9],m=n[10],v=n[11],f=n[12],p=n[13],g=n[14],x=n[15],k=d*g*u-p*m*u+p*h*v-c*g*v-d*h*x+c*m*x,z=f*m*u-y*g*u-f*h*v+l*g*v+y*h*x-l*m*x,_=y*p*u-f*d*u+f*c*v-l*p*v-y*c*x+l*d*x,w=f*d*h-y*p*h-f*c*m+l*p*m+y*c*g-l*d*g,b=s*k+r*z+a*_+o*w;if(0===b){var M=" Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(M);return console.warn(M),this.identity()}var S=1/b;return i[0]=k*S,i[1]=(p*m*o-d*g*o-p*a*v+r*g*v+d*a*x-r*m*x)*S,i[2]=(c*g*o-p*h*o+p*a*u-r*g*u-c*a*x+r*h*x)*S,i[3]=(d*h*o-c*m*o-d*a*u+r*m*u+c*a*v-r*h*v)*S,i[4]=z*S,i[5]=(y*g*o-f*m*o+f*a*v-s*g*v-y*a*x+s*m*x)*S,i[6]=(f*h*o-l*g*o-f*a*u+s*g*u+l*a*x-s*h*x)*S,i[7]=(l*m*o-y*h*o+y*a*u-s*m*u-l*a*v+s*h*v)*S,i[8]=_*S,i[9]=(f*d*o-y*p*o-f*r*v+s*p*v+y*r*x-s*d*x)*S,i[10]=(l*p*o-f*c*o+f*r*u-s*p*u-l*r*x+s*c*x)*S,i[11]=(y*c*o-l*d*o-y*r*u+s*d*u+l*r*v-s*c*v)*S,i[12]=w*S,i[13]=(y*p*a-f*d*a+f*r*m-s*p*m-y*r*g+s*d*g)*S,i[14]=(f*c*a-l*p*a-f*r*h+s*p*h+l*r*g-s*c*g)*S,i[15]=(l*d*a-y*c*a+y*r*h-s*d*h-l*r*m+s*c*m)*S,this}},{key:"scale",value:function(t){var e=this.elements,i=t.x,n=t.y,s=t.z;return e[0]*=i,e[4]*=n,e[8]*=s,e[1]*=i,e[5]*=n,e[9]*=s,e[2]*=i,e[6]*=n,e[10]*=s,e[3]*=i,e[7]*=n,e[11]*=s,this}},{key:"getMaxScaleOnAxis",value:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,n))}},{key:"makeTranslation",value:function(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}},{key:"makeRotationX",value:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}},{key:"makeRotationY",value:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(t,e){var i=Math.cos(e),n=Math.sin(e),s=1-i,r=t.x,a=t.y,o=t.z,l=s*r,c=s*a;return this.set(l*r+i,l*a-n*o,l*o+n*a,0,l*a+n*o,c*a+i,c*o-n*r,0,l*o-n*a,c*o+n*r,s*o*o+i,0,0,0,0,1),this}},{key:"makeScale",value:function(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}},{key:"makeShear",value:function(t,e,i){return this.set(1,e,i,0,t,1,i,0,t,e,1,0,0,0,0,1),this}},{key:"compose",value:function(t,e,i){var n=this.elements,s=e._x,r=e._y,a=e._z,o=e._w,l=s+s,c=r+r,h=a+a,u=s*l,y=s*c,d=s*h,m=r*c,v=r*h,f=a*h,p=o*l,g=o*c,x=o*h,k=i.x,z=i.y,_=i.z;return n[0]=(1-(m+f))*k,n[1]=(y+x)*k,n[2]=(d-g)*k,n[3]=0,n[4]=(y-x)*z,n[5]=(1-(u+f))*z,n[6]=(v+p)*z,n[7]=0,n[8]=(d+g)*_,n[9]=(v-p)*_,n[10]=(1-(u+m))*_,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this}},{key:"decompose",value:function(t,e,i){var n=this.elements,s=v.set(n[0],n[1],n[2]).length(),r=v.set(n[4],n[5],n[6]).length(),a=v.set(n[8],n[9],n[10]).length();this.determinant()<0&&(s=-s),t.x=n[12],t.y=n[13],t.z=n[14],f.copy(this);var o=1/s,l=1/r,c=1/a;return f.elements[0]*=o,f.elements[1]*=o,f.elements[2]*=o,f.elements[4]*=l,f.elements[5]*=l,f.elements[6]*=l,f.elements[8]*=c,f.elements[9]*=c,f.elements[10]*=c,e.setFromRotationMatrix(f),i.x=s,i.y=r,i.z=a,this}},{key:"makePerspective",value:function(t,e,i,n,s,r){void 0===r&&console.warn(" Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,o=2*s/(e-t),l=2*s/(i-n),c=(e+t)/(e-t),h=(i+n)/(i-n),u=-(r+s)/(r-s),y=-2*r*s/(r-s);return a[0]=o,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=l,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=u,a[14]=y,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}},{key:"makeOrthographic",value:function(t,e,i,n,s,r){var a=this.elements,o=1/(e-t),l=1/(i-n),c=1/(r-s),h=(e+t)*o,u=(i+n)*l,y=(r+s)*c;return a[0]=2*o,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-u,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-y,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}},{key:"equals",value:function(t){for(var e=this.elements,i=t.elements,n=0;n<16;n++)if(e[n]!==i[n])return!1;return!0}},{key:"fromArray",value:function(t,e){void 0===e&&(e=0);for(var i=0;i<16;i++)this.elements[i]=t[i+e];return this}},{key:"toArray",value:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}],[{key:"Identity",get:function(){return new t}}]),t}(),v=d(),f=_(),p=d(0,0,0),g=d(1,1,1),x=d(),k=d(),z=d();function _(){return new m}_(),c();i(201);var w=i(157),b=i(152),M=i(156),S=i(224),q=0,P=1,C=2,j=function(t){function e(t,i){var n;return Object(a.a)(this,e),(n=Object(w.a)(this,Object(b.a)(e).call(this))).push(t||d(),i||d()),n.center=n.p0.clone().add(n.p1).multiplyScalar(.5),n.lenDirection=n.p1.clone().sub(n.p0),n.lenSq=n.lenDirection.lengthSq(),n.len=Math.sqrt(n.lenSq),n.direction=n.lenDirection.clone().normalize(),n}return Object(M.a)(e,t),Object(o.a)(e,[{key:"at",value:function(t,e){return void 0===e&&(e=new Vector3),e.subVectors(this.end,this.start).multiplyScalar(t).add(this.start)}},{key:"equals",value:function(t){return this.p0.equals(t.p0)&&this.p1.equals(t.p1)||this.p1.equals(t.p0)&&this.p1.equals(t.p0)}},{key:"clone",value:function(){return new e(this.p0.clone(),this.p1.clone())}},{key:"containPoint",value:function(t){return t.inside(this)}},{key:"distancePoint",value:function(t){return t.distanceSegment(this)}},{key:"distanceSegment",value:function(t){var e={parameters:[],closests:[]};function i(t,e,i){var n;return e<0?i>0?(n=-e/t)>1&&(n=.5):n=1:n=0,n}var n=this.p1.clone().sub(this.p0),s=t.p1.clone().sub(t.p0),r=this.p0.clone().sub(t.p0),a=n.dot(n),o=n.dot(s),l=s.dot(s),c=n.dot(r),h=s.dot(r),u=c,y=u+a,d=u-o,m=y-o,v=-h,f=v-o,p=v+l,g=f+l;if(a>0&&l>0){var x=[];x[0]=i(a,u,y),x[1]=i(a,d,m);for(var k=[],z=0;z<2;++z)x[z]<=0?k[z]=-1:x[z]>=1?k[z]=1:k[z]=0;if(-1==k[0]&&-1==k[1])e.parameters[0]=0,e.parameters[1]=i(l,v,p);else if(1==k[0]&&1==k[1])e.parameters[0]=1,e.parameters[1]=i(l,f,g);else{for(var _=[],w=new Array(2),b=0;b<w.length;b++)w[b]=new Array(2);!function(t,e,i,n){e[0]<0?(i[0]=0,n[0][0]=0,n[0][1]=u/o,(n[0][1]<0||n[0][1]>1)&&(n[0][1]=.5),0==e[1]?(i[1]=3,n[1][0]=t[1],n[1][1]=1):(i[1]=1,n[1][0]=1,n[1][1]=y/o,(n[1][1]<0||n[1][1]>1)&&(n[1][1]=.5))):0==e[0]?(i[0]=2,n[0][0]=t[0],n[0][1]=0,e[1]<0?(i[1]=0,n[1][0]=0,n[1][1]=u/o,(n[1][1]<0||n[1][1]>1)&&(n[1][1]=.5)):0==e[1]?(i[1]=3,n[1][0]=t[1],n[1][1]=1):(i[1]=1,n[1][0]=1,n[1][1]=y/o,(n[1][1]<0||n[1][1]>1)&&(n[1][1]=.5))):(i[0]=1,n[0][0]=1,n[0][1]=y/o,(n[0][1]<0||n[0][1]>1)&&(n[0][1]=.5),0==e[1]?(i[1]=3,n[1][0]=t[1],n[1][1]=1):(i[1]=0,n[1][0]=0,n[1][1]=u/o,(n[1][1]<0||n[1][1]>1)&&(n[1][1]=.5)))}(x,k,_,w),function(t,e,n){var s=e[1][1]-e[0][1],r=s*(-o*e[0][0]+l*e[0][1]-h);if(r>=0)0==t[0]?(n[0]=0,n[1]=i(l,v,p)):1==t[0]?(n[0]=1,n[1]=i(l,f,g)):(n[0]=e[0][0],n[1]=e[0][1]);else{var a=s*(-o*e[1][0]+l*e[1][1]-h);if(a<=0)0==t[1]?(n[0]=0,n[1]=i(l,v,p)):1==t[1]?(n[0]=1,n[1]=i(l,f,g)):(n[0]=e[1][0],n[1]=e[1][1]);else{var c=Math.min(Math.max(r/(r-a),0),1),u=1-c;n[0]=u*e[0][0]+c*e[1][0],n[1]=u*e[0][1]+c*e[1][1]}}}(_,w,e.parameters)}}else a>0?(e.parameters[0]=i(a,u,y),e.parameters[1]=0):l>0?(e.parameters[0]=0,e.parameters[1]=i(l,v,p)):(e.parameters[0]=0,e.parameters[1]=0);e.closests[0]=this.p0.clone().multiplyScalar(1-e.parameters[0]).add(this.p1.clone().multiplyScalar(e.parameters[0])),e.closests[1]=t.p0.clone().multiplyScalar(1-e.parameters[1]).add(t.p1.clone().multiplyScalar(e.parameters[1]));var M=e.closests[0].clone().sub(e.closests[1]);return e.sqrDistance=M.dot(M),e.distance=Math.sqrt(e.sqrDistance),e}},{key:"distanceRay",value:function(t){}},{key:"distanceLine",value:function(t){}},{key:"intersectSegment",value:function(t){var i=this.distanceSegment(t),n=this.distanceLine(t);if(i.interserct=!1,s(this.normal.dot(t.normal),1,1e-4)){if(i.distance>1e-4)return i;i.interserct=!0,i.parameters.every((function(t){return 0===t||1===t}))||(0===i.parameters[0]||1===i.parameters[0]?i.splitSegs=[[this],[new e(t.p0,i.closests[1]),new e(i.closests[1],t.p1)]]:0===i.parameters[1]||1===i.parameters[1]?i.splitSegs=[[new e(this.p0,i.closests[0]),new e(i.closests[0],this.p1)],t]:i.splitSegs=[[new e(this.p0,i.closests[0]),new e(i.closests[0],this.p1)],[new e(t.p0,i.closests[1]),new e(i.closests[1],t.p1)]])}else n.distance>=1e-4||(this.equals(t)?i.equals=!0:i.parameters.every((function(t){return 0===t||1===t})));return i}},{key:"offset",value:function(t,e,i){t=t||new Vector3(0,1,0);var n=(e=p1.clone().sub(p0).normalize()).clone().cross(t).normalize(),s={};return s.arr=[n.clone().multiplyScalar(i).add(p0),n.clone().multiplyScalar(i).add(p1)],s.direction=e,s.tandir=n,s}},{key:"orientationPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vector3.UnitY,i=this.direction.clone().cross(e);return this.distanceLine(t).distance<1e-4?q:t.clone().sub(this.origin).dot(i)>0?P:C}},{key:"orientationSegment",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vector3.UnitY,i=this.orientationPoint(t.p0,e),n=this.orientationPoint(t.p1,e);return i|n}},{key:"p0",get:function(){return this[0]},set:function(t){this[0]=t}},{key:"p1",get:function(){return this[1]},set:function(t){this[1]=t}}]),e}(Object(S.a)(Array));var O=function(){function t(e,i){Object(a.a)(this,t),this.origin=void 0!==e?e:d(),this.end=void 0!==i?i:d(),this.direction=this.end.clone().sub(this.origin).normalize()}return Object(o.a)(t,[{key:"distancePoint",value:function(t){return t.distanceLine(this)}},{key:"distanceLine",value:function(t){var e,i,n={parameters:[],closests:[]},s=this.origin.clone().sub(t.origin),r=-this.direction.dot(t.direction),a=s.dot(this.direction);if(Math.abs(r)<1){var o=1-r*r,l=-s.dot(t.direction);e=(r*l-a)/o,i=(r*a-l)/o}else e=-a,i=0;return n.parameters[0]=e,n.parameters[1]=i,n.closests[0]=this.direction.clone().multiplyScalar(e).add(this.origin),n.closests[1]=t.direction.clone().multiplyScalar(i).add(t.origin),s=n.closests[0].clone().sub(n.closests[1]),n.sqrDistance=s.dot(s),n.distance=Math.sqrt(n.sqrDistance),n}},{key:"distanceRay",value:function(t){var e,i,n={parameters:[],closests:[],sqrDistance:0,distance:0},s=this.origin.clone().sub(t.origin),r=-this.direction.dot(t.direction),a=s.dot(this.direction);if(Math.abs(r)<1){var o=-s.dot(t.direction);if((i=r*a-o)>=0){var l=1-r*r;e=(r*o-a)/l,i/=l}else e=-a,i=0}else e=-a,i=0;return n.parameters[0]=e,n.parameters[1]=i,n.closests[0]=this.direction.clone().multiplyScalar(e).add(this.origin),n.closests[1]=t.direction.clone().multiplyScalar(i).add(t.origin),s=n.closests[0].clone().sub(n.closests[1]),n.sqrDistance=s.dot(s),n.distance=Math.sqrt(n.sqrDistance),n}},{key:"distanceSegment",value:function(t){var e,i,n={parameters:[],closests:[]},s=t.center,r=t.direction,a=.5*t.len,o=this.origin.clone().sub(s),l=-this.direction.dot(r),c=o.dot(this.direction);if(Math.abs(l)<1){var h=1-l*l,u=a*h,y=-o.dot(r);(i=l*c-y)>=-u?i<=u?(e=(l*y-c)/h,i/=h):e=-(l*(i=a)+c):e=-(l*(i=-a)+c)}else i=0,e=-c;return n.parameters[0]=e,n.parameters[1]=i,n.closests[0]=this.direction.clone().multiplyScalar(e).add(this.origin),n.closests[1]=r.clone().multiplyScalar(i).add(s),o=n.closests[0].clone().sub(n.closests[1]),n.sqrDistance=o.dot(o),n.distance=Math.sqrt(n.sqrDistance),n}},{key:"distancePlane",value:function(t){}},{key:"distanceTriangle",value:function(t){function e(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&1<=t&&t<=3){var i=e[0].length();e[0].normalize();for(var n=1;n<t;++n){for(var s=0;s<n;++s){var r=e[n].dot(e[s]);e[n].sub(e[s].clone().multiplyScalar(r))}var a=e[n].length();e[n].normalize(),a<i&&(i=a)}return i}return 0}var i={closests:[],parameters:[],triangleParameter:[]},n=t.p1.clone().sub(t.p0),s=t.p2.clone().sub(t.p0),r=n.clone().cross(s).normalize().dot(this.direction);if(Math.abs(r)>=1e-4){var a=this.origin.clone().sub(t.p0),o=new Array(3);o[0]=this.direction,function(t,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];1===t&&(Math.abs(i[0][0])>Math.abs(i[0][1])?i[1]=d(-i[0].z,0,+i[0].x):i[1]=d(0,+i[0].z,-i[0].y),t=2),2==t&&(i[2]=i[0].clone().cross(i[1]),e(3,i,n))}(1,o);var l=o[1].dot(n),c=o[1].dot(s),h=o[1].dot(a),u=o[2].dot(n),y=o[2].dot(s),m=o[2].dot(a),v=1/(l*y-c*u),f=(y*h-c*m)*v,p=(l*m-u*h)*v,g=1-f-p;if(g>=0&&f>=0&&p>=0){var x=this.direction.dot(n),k=this.direction.dot(s),z=this.direction.dot(a);return i.lineParameter=f*x+p*k-z,i.triangleParameter[0]=g,i.triangleParameter[1]=f,i.triangleParameter[2]=p,i.closests[0]=this.direction.clone().multiplyScalar(i.lineParameter).add(this.origin),i.closests[1]=n.multiplyScalar(f).add(s.multiplyScalar(p)).add(t.p0),i.distance=0,i.sqrDistance=0,i}}i.distance=1/0,i.sqrDistance=1/0;for(var _=2,w=0;w<3;_=w++){t[_].clone().add(t[w]).multiplyScalar(.5);var b=t[w].clone().sub(t[_]),M=.5*b.length();b.normalize();var S=new j(t[_],t[w]),q=this.distanceSegment(S);q.sqrDistance<i.sqrDistance&&(i.sqrDistance=q.sqrDistance,i.distance=q.distance,i.lineParameter=q.parameters[0],i.triangleParameter[_]=.5*(1-q.parameters[0]/M),i.triangleParameter[w]=1-i.triangleParameter[_],i.triangleParameter[3-_-w]=0,i.closests[0]=q.closests[0],i.closests[1]=q.closests[1])}return i}},{key:"intersectLine",value:function(t){}},{key:"parallelLine",value:function(t){}},{key:"orientationPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.UnitY,i=this.direction.clone().cross(e);return this.distancePoint(t).distance<1e-4?q:t.clone().sub(this.origin).dot(i)>0?P:C}},{key:"orientationSegment",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.UnitY,i=this.orientationPoint(t.p0,e),n=this.orientationPoint(t.p1,e);return i|n}}]),t}();Object(S.a)(Array);var D=function(t){function e(t,i,n){return Object(a.a)(this,e),Object(w.a)(this,Object(b.a)(e).call(this,t,i,n))}return Object(M.a)(e,t),Object(o.a)(e,[{key:"distancePoint",value:function(t){var e={closests:[this,t]};return e.distanceSqr=this.clone().sub(t).lengthSq(),e.distance=Math.sqrt(e.distanceSqr),e}},{key:"distanceLine",value:function(t){var e={parameters:[],closests:[]},i=this.clone().sub(t.origin),n=t.direction.dot(i),s=t.direction.clone().multiplyScalar(n).add(t.origin);return e.parameters.push(0,n),e.closests.push(this,s),i=e.closests[0].clone().sub(e.closests[1]),e.distanceSqr=i.dot(i),e.distance=Math.sqrt(e.distanceSqr),e}},{key:"distanceLinePureSq",value:function(t){var e=this.clone().sub(t.origin),i=t.direction.dot(e),n=t.direction.clone().multiplyScalar(i).add(t.origin);return this.distanceToSquared(n)}},{key:"distanceLinePure",value:function(t){var e=this.clone().sub(t.origin),i=t.direction.dot(e),n=t.direction.clone().multiplyScalar(i).add(t.origin);return this.distanceTo(n)}},{key:"distanceRay",value:function(t){var e={parameters:[],closests:[]},i=this.clone().sub(t.origin);return e.rayParameter=t.direction.dot(i),e.rayParameter>0?e.rayClosest=t.direction.clone().multiplyScalar(e.rayParameter).add(t.origin):e.rayClosest=t.origin.clone(),e.parameters.push(0,e.rayParameter),e.closests.push(this,e.rayClosest),i=this.clone().sub(e.rayClosest),e.distanceSqr=i.dot(i),e.distance=Math.sqrt(e.distanceSqr),e}},{key:"distanceSegment",value:function(t){var e={parameters:[],closests:[]},i=this.clone().sub(t.p1),n=t.lenDirection.dot(i);if(n>=0)e.segmentParameter=1,e.segmentClosest=t.p1;else if(i=this.clone().sub(t.p0),(n=t.lenDirection.dot(i))<=0)e.segmentParameter=0,e.segmentClosest=t.p0;else{var s=t.lenSq;s<=0&&(s=0),n/=s,e.segmentParameter=n,e.segmentClosest=t.lenDirection.clone().multiplyScalar(n).add(t.p0)}return e.parameters.push(0,e.segmentParameter),e.closests.push(this,e.segmentClosest),i=this.clone().sub(e.segmentClosest),e.distanceSqr=i.dot(i),e.distance=Math.sqrt(e.distanceSqr),e}},{key:"distancePolyline",value:function(t){for(var e=1/0,i=-1,n=null,s=null,r=0;r<t.length-1;r++){var a=t[r],o=t[r+1];Math.abs(a.x-this.x)>e&&Math.abs(o.x-this.x)>e&&(a.x-this.x)*(o.x-this.x)>0||(Math.abs(a.y-this.y)>e&&Math.abs(o.y-this.y)>e&&(a.y-this.y)*(o.y-this.y)>0||Math.abs(a.z-this.z)>e&&Math.abs(o.z-this.z)>e&&(a.z-this.z)*(o.z-this.z)>0||(n=this.distanceSegment(new j(a,o))).distance<e&&(e=n.distance,s=n,i=r))}return s.segmentIndex=i,s}},{key:"distancePolyline1",value:function(t){for(var e=1/0,i=-1,n=null,s=null,r=0;r<t.length-1;r++){var a=t[r],o=t[r+1];e>(n=this.distanceSegment(new j(a,o))).distance&&(e=n.distance,s=n,i=r)}return s.segmentIndex=i,s}},{key:"distancePlane",value:function(t){var e={parameters:[],closests:[],signedDistance:0,distance:0,planeClosestPoint:null};return e.signedDistance=this.clone().dot(t.normal)-t.w,e.distance=Math.abs(e.signedDistance),e.planeClosestPoint=this.clone().sub(t.normal.clone().multiplyScalar(e.signedDistance)),e.closests.push(this,e.planeClosestPoint),e}},{key:"distanceCircle",value:function(t){var e={parameters:[],closests:[],equidistant:!1},i=this.clone().sub(t.center),n=i.clone().sub(t.normal.clone().multiplyScalar(t.normal.dot(i))),s=n.length();if(s>1e-4)e.circleClosest=n.clone().multiplyScalar(t.radius/s).add(t.center),e.equidistant=!1;else{var r=t.center.clone().add(10,10,10).sub(t.center),a=r.clone().sub(t.normal.clone().multiplyScalar(t.normal.dot(r))).normalize();e.circleClosest=a.clone().multiplyScalar(t.radius).add(t.center),e.equidistant=!0}e.closests.push(this,e.circleClosest);var o=this.clone().sub(e.circleClosest);return e.sqrDistance=o.dot(o),e.distance=Math.sqrt(e.sqrDistance),e}},{key:"distanceDisk",value:function(t){var e={parameters:[],closests:[],signed:1,sqrDistance:0,distance:0,diskClosest:null},i=this.clone().sub(t.center),s=i.clone().sub(t.normal.clone().multiplyScalar(t.normal.dot(i))),r=s.length();if(e.signed=n(this.clone().dot(t.normal)-t.w),r>t.radius)e.diskClosest=s.clone().multiplyScalar(t.radius/r).add(t.center);else{var a=this.clone().dot(t.normal)-t.w;e.diskClosest=this.clone().sub(t.normal.clone().multiplyScalar(a))}e.closests.push(this,e.diskClosest);var o=this.clone().sub(e.diskClosest);return e.sqrDistance=o.dot(o),e.distance=Math.sqrt(e.sqrDistance),e}},{key:"distanceCapsule",value:function(t){var e=this.distanceSegment(t);return e.distance=e.distance-t.radius,e.closest=this.clone().sub(e.segmentClosest).normalize().multiplyScalar(t.radius),e.interior=e.distance<0,e.closests=[this,e.closest],e}},{key:"distanceTriangle",value:function(t){function e(t,e,i){i[0]=0,i[1]=e>=0?0:t+e<=0?1:-e/t}function i(t,e,i,n,s,r){var a=t+i-n;if(a>=0)r[1]=0;else{var o=e+i-s;r[1]=o<=0?1:a/(a-o)}r[0]=1-r[1]}function n(t,e,i,n,s){var r=e/(e-n);s[0]=(1-r)*t[0]+r*i[0],s[1]=(1-r)*t[1]+r*i[1]}var s,r,a,o=this.clone().sub(t.p0),l=t.p1.clone().sub(t.p0),c=t.p2.clone().sub(t.p0),h=l.dot(l),u=l.dot(c),y=c.dot(c),d=-o.dot(l),m=-o.dot(c),v=d,f=d+h,p=d+u,g=[0,0],x=[0,0],k=[0,0];v>=0?p>=0?e(y,m,k):(g[0]=0,g[1]=v/(v-p),x[0]=p/(p-f),x[1]=1-x[0],(r=(s=x[1]-g[1])*(y*g[1]+m))>=0?e(y,m,k):(a=s*(u*x[0]+y*x[1]+m))<=0?i(u,y,m,f,p,k):n(g,r,x,a,k)):p<=0?f<=0?i(u,y,m,f,p,k):(g[0]=v/(v-f),g[1]=0,x[0]=p/(p-f),x[1]=1-x[0],(r=x[1]*(u*g[0]+m))>=0?k=g:(a=x[1]*(u*x[0]+y*x[1]+m))<=0?i(u,y,m,f,p,k):n(g,r,x,a,k)):f<=0?(g[0]=0,g[1]=v/(v-p),x[0]=p/(p-f),x[1]=1-x[0],(r=(s=x[1]-g[1])*(y*g[1]+m))>=0?e(y,m,k):(a=s*(u*x[0]+y*x[1]+m))<=0?i(u,y,m,f,p,k):n(g,r,x,a,k)):(g[0]=v/(v-f),g[1]=0,x[0]=0,x[1]=v/(v-p),(r=x[1]*(u*g[0]+m))>=0?k=g:(a=x[1]*(y*x[1]+m))<=0?e(y,m,k):n(g,r,x,a,k));var z={parameter:[],parameters:[],closests:[]};return z.parameter[0]=1-k[0]-k[1],z.parameter[1]=k[0],z.parameter[2]=k[1],z.closest=t.p0.clone().add(l.multiplyScalar(k[0])).add(c.multiplyScalar(k[1])),z.parameters.push(0,z.rayParameter),z.closests.push(this,z.closest),o=this.clone().sub(z.closest),z.sqrDistance=o.dot(o),z.distance=Math.sqrt(z.sqrDistance),z}},{key:"distanceRectangle",value:function(t){var e={rectangleParameter:[],parameters:[],closests:[]};diff=t.center-point;var i=diff.dot(t.axis[0]),n=diff.dot(t.axis[1]),s=-i,r=-n;e.sqrDistance=diff.dot(diff),s<-t.extent[0]?s=-t.extent[0]:s>t.extent[0]&&(s=t.extent[0]),e.sqrDistance+=s*(s+2*i),r<-t.extent[1]?r=-t.extent[1]:r>t.extent[1]&&(r=t.extent[1]),e.sqrDistance+=r*(r+2*n),e.sqrDistance<0&&(e.sqrDistance=0),e.distance=Math.sqrt(e.sqrDistance),e.rectangleParameter[0]=s,e.rectangleParameter[1]=r,e.rectangleClosestPoint=t.center;for(var a=0;a<2;++a)e.rectangleClosestPoint.add(t.axis[a].clone().multiplyScalar(e.rectangleParameter[a]));return e.closests.push(this,e.rectangleClosestPoint),e}},{key:"distancePolygon",value:function(t){}},{key:"distanceSphere",value:function(t){var e={parameters:[],closests:[]};return e.distance=this.distanceTo(t.center)-t.radius,e.closest=this.point.clone().sub(t.center).normalize().multiplyScalar(t.radius),e.closests.push(this,e.closest),e}},{key:"insideLine",value:function(){}},{key:"insideRay",value:function(){}},{key:"insideSegment",value:function(){}},{key:"insidePlane",value:function(){}},{key:"orientationLine",value:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.UnitY}},{key:"orientationPlane",value:function(){}},{key:"orientationCircle",value:function(){}}]),e}(h);var A=function(){function t(e,i,n){Object(a.a)(this,t),this.center=e||new h,this.normal=i.normalize(),this.radius=n||0}return Object(o.a)(t,[{key:"area",value:function(){return Math.PI*this.radius*this.radius}}]),t}();var F=function(){function t(e,i,n){Object(a.a)(this,t),this.center=e||d(),this.normal=i,this.radius=n||0,this.w=this.normal.dot(e)}return Object(o.a)(t,[{key:"area",value:function(){return Math.PI*this.radius*this.radius}}]),t}();var V=i(174),E=function(t){function e(){var t;Object(a.a)(this,e);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return Object(w.a)(this,(t=Object(b.a)(e)).call.apply(t,[this].concat(n)))}return Object(M.a)(e,t),Object(o.a)(e,[{key:"get",value:function(t){return t<0&&(t=this.length+t),this[t]}},{key:"forall",value:function(t){for(var e=0;e<this.length;e++)t(this[e]),this[e]instanceof Array&&this[e].forall(t)}},{key:"classify",value:function(t){for(var e=[],i=0;i<this.length;i++)for(var n=0;n<e.length;n++)t(this[i],e[n][0],e[n])?e[n].push(this[i]):e.push([this[i]]);return e}},{key:"unique",value:function(t,e){if(e){this.sort(e);for(var i=0;i<this.length;i++)for(var n=i+1;n<this.length&&!0===t(this[i],this[n]);n++)this.splice(n,1),n--;return this}for(var s=0;s<this.length;s++)for(var r=s+1;r<this.length;r++)!0===t(this[s],this[r])&&(this.splice(r,1),r--);return this}},{key:"lastElement",get:function(){return this.get(-1)}}]),e}(Object(S.a)(Array)),T=function(t){function e(t){var i,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d(0,1,0);return Object(a.a)(this,e),(i=n=Object(w.a)(this,Object(b.a)(e).call(this))).push.apply(i,Object(V.a)(t)),n.isCoPlanar=!0,n.normal=s,n}return Object(M.a)(e,t),Object(o.a)(e,[{key:"offset",value:function(t){for(var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.normal,s=n(t)>0?P:C,r=new h,a=[],o=0;o<this.length-1;o++){var l=this[o],c=this[o+1],u=r.sub(c,l).normalize().cross(this.normal).normalize(),y=u.clone().multiplyScalar(t);a.push([y.clone().add(l),y.add(c)])}for(var d=0;d<a.length;d++)for(var m=a[d],v=0;v<a.length;v++)if(d!==v){var f=a[v],p=m.orientationSegment(f.p0,i),g=m.orientationSegment(f.fixedPoint1,i),x=p|g,k=m.distanceSegment(f);if(k.distance>1e-4)x!==s&&(a.splice(v,1),v--);else k.closests[0]}return new e(this)}},{key:"corner",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.normal,n=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],new e),s=0;s<this.length-2;s++){n.push(r);var r=this[s],a=this[s+1],o=this[s+2],l=r.distanceTo(a).length()<=2*t?r.clone().add(a).multiplyScalar(.5):r.clone().sub(a).normalize().multiplyScalar(t).add(a),c=o.distanceTo(a).length()<=2*t?o.clone().add(a).multiplyScalar(.5):o.clone().sub(a).normalize().multiplyScalar(t).add(a);n.push(l);var h=a.clone().sub(r).applyAxisAngle(i,Math.PI/2),u=a.clone().sub(r).applyAxisAngle(i,Math.PI/2),y=new O(l,h.add(l)),d=new O(c,u.add(c));y.distanceLine(d).closests[0];n.push(c)}return n}}]),e}(E);i(158),i(173);d();var L=function(t){function e(){return Object(a.a)(this,e),Object(w.a)(this,Object(b.a)(e).call(this))}return Object(M.a)(e,t),Object(o.a)(e,[{key:"offset",value:function(){}}]),e}(T);var Y=function(){function t(e,i){Object(a.a)(this,t),this.origin=e,this.direction=i.normalize()}return Object(o.a)(t,[{key:"distanceRay",value:function(t){var e,i,n,s={parameters:[],closests:[],sqrDistance:0,distance:0},r=this.origin.clone().sub(t.origin),a=-this.direction.dot(t.direction),o=r.dot(this.direction);if(Math.abs(a)<1)if(n=a*o-(e=-r.dot(t.direction)),(i=a*e-o)>=0)if(n>=0){var l=1-a*a;i/=l,n/=l}else n=0,i=o>=0?0:-o;else n>=0?(i=0,n=e>=0?0:-e):o<0?(i=-o,n=0):(i=0,n=e>=0?0:-e);else a>0?(n=0,i=o>=0?0:-o):o>=0?(i=0,n=-(e=-r.dot(t.direction))):(i=-o,n=0);return s.parameters[0]=i,s.parameters[1]=n,s.closests[0]=this.direction.clone().multiplyScalar(i).add(this.origin),s.closests[1]=t.direction.clone().multiplyScalar(n).add(t.origin),r=s.closests[0].clone().sub(s.closests[1]),s.sqrDistance=r.dot(r),s.distance=Math.sqrt(s.sqrDistance),s}},{key:"distanceSegment",value:function(t){var e,i,n={parameters:[],closests:[],sqrDistance:0,distance:0},s=t.center,r=t.direction,a=.5*t.len,o=this.origin.clone().sub(s),l=-this.direction.dot(r),c=o.dot(this.direction);if(Math.abs(l)<1){var h=1-l*l,u=a*h,y=-o.dot(r);i=l*c-y,(e=l*y-c)>=0?i>=-u?i<=u?(e/=h,i/=h):(i=a,e=Math.max(-(l*i+c),0)):(i=-a,e=Math.max(-(l*i+c),0)):i<=-u?(e=-(-l*a+c))>0?i=-a:(e=0,(i=-y)<-a?i=-a:i>a&&(i=a)):i<=u?(e=0,(i=-y)<-a?i=-a:i>a&&(i=a)):(e=-(l*a+c))>0?i=a:(e=0,(i=-y)<-a?i=-a:i>a&&(i=a))}else i=l>0?-a:a,e=Math.max(-(l*i+c),0);return n.parameters[0]=e,n.parameters[1]=i,n.closests[0]=this.direction.clone().multiplyScalar(e).add(this.origin),n.closests[1]=r.clone().multiplyScalar(i).add(s),o=n.closests[0].clone().sub(n.closests[1]),n.sqrDistance=o.dot(o),n.distance=Math.sqrt(n.sqrDistance),n}},{key:"distanceTriangle",value:function(t){var e={parameters:[],closests:[],triangleParameter:[],sqrDistance:0,distance:0},i=new O(this.origin,this.origin.clone().add(this.direction)).distanceTriangle(t);if(i.lineParameter>=0)e.distance=i.distance,e.sqrDistance=i.sqrDistance,e.rayParameter=i.lineParameter,e.triangleParameter[0]=i.triangleParameter[0],e.triangleParameter[1]=i.triangleParameter[1],e.triangleParameter[2]=i.triangleParameter[2],e.closests[0]=i.closests[0],e.closests[1]=i.closests[1];else{var n=(new D).copy(this.origin).distanceTriangle(t);e.distance=n.distance,e.sqrDistance=n.sqrDistance,e.rayParameter=0,e.triangleParameter[0]=n.parameter[0],e.triangleParameter[1]=n.parameter[1],e.triangleParameter[2]=n.parameter[2],e.closests[0]=this.origin,e.closests[1]=n.closest}return e}},{key:"distanceLine",value:function(t){}}]),t}();var R=function(t){function e(t,i,n){var s;return Object(a.a)(this,e),(s=Object(w.a)(this,Object(b.a)(e).call(this))).push(t,i,n),s}return Object(M.a)(e,t),Object(o.a)(e,[{key:"distancePoint",value:function(t){}},{key:"distanceLine",value:function(t){}},{key:"distanceRay",value:function(t){}},{key:"distanceSegment",value:function(t){}},{key:"p0",get:function(){return this[0]}},{key:"p1",get:function(){return this[1]}},{key:"p2",get:function(){return this[2]}}]),e}(E);i(293),i(299),i(300);i(217),i(218),i(219),i(182),i(170);var Z=i(220);i(304);i(312);Array.prototype.get||(Array.prototype.get=function(t){return t<0&&(t=this.length+t),this[t]}),Array.prototype.forall||(Array.prototype.forall=function(t){for(var e=0;e<this.length;e++)t(this[e]),this[e]instanceof Array&&this[e].forall(t)}),Array.prototype.forall||(Array.prototype.classify=function(t){for(var e=[],i=0;i<this.length;i++)for(var n=0;n<e.length;n++)t(this[i],e[n][0],e[n])?e[n].push(this[i]):e.push([this[i]]);return e}),Array.prototype.unique||(Array.prototype.unique=function(t,e){if(e){this.sort(e);for(var i=0;i<this.length;i++)for(var n=i+1;n<this.length&&!0===t(this[i],this[n]);n++)this.splice(n,1),n--;return this}for(var s=0;s<this.length;s++)for(var r=s+1;r<this.length;r++)!0===t(this[s],this[r])&&(this.splice(r,1),r--);return this});i(234),i(195),i(305),i(204),i(306),i(308);var X=i(221);function U(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function I(t){switch(t){case"Point":return(new D).copy($());case"Line":return new O($(),$());case"Ray":return new Y($(),$().normalize());case"Segment":return new j($(),$());case"Polyline":for(var e=[],i=0;i<Math.floor(100*Math.random()+3);i++)e.push($());return new T(e);case"Triangle":return new R($(200),$(200),$(200));case"Circle":return new A($(),$().normalize(),60*Math.random()+5);case"Disk":return new F($(),$().normalize(),60*Math.random()+5);case"Capsule":return new(void 0)($(),$())}}function Q(t,e,i){var n=I(t),s=I(e),r=n["distance"+e](s);return i.add(J(n)),i.add(J(s)),r.closests&&2===r.closests.length&&i.add(function(t,e){var i,n=new X.i;(i=n.vertices).push.apply(i,Object(V.a)(t));var s=new X.l(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?U(Object(i),!0).forEach((function(e){Object(Z.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):U(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({color:16711680,dashSize:1,gapSize:1,scale:1},e)),r=new X.j(n,s);return r.computeLineDistances(),r}(r.closests)),r}function $(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return d(Math.random()*t-t/2,Math.random()*t,Math.random()*t-t/3)}function N(t,e){var i=t.clone().normalize(),n=e.clone().normalize(),s=i.clone().cross(n).normalize(),a=new X.w,o=r(i.normalize().dot(n.normalize()),-1,1);return o=Math.acos(o),a.setFromAxisAngle(s,o),a}function J(t,e){var i=null;if(t instanceof D||t.isVector3){(s=new X.c).setAttribute("position",new X.h([t.x,t.y,t.z],3));var n=new X.u({size:5,sizeAttenuation:!1,color:1044720,alphaTest:.9,transparent:!0});i=new X.t(s,n)}else if(t instanceof O){var s=new X.i,r=t.direction.clone().multiplyScalar(1e4).add(t.origin),a=t.direction.clone().multiplyScalar(-1e4).add(t.origin);s.vertices.push(r,a);n=new X.k({color:16777103});i=new X.j(s,n)}else if(t instanceof Y){s=new X.i,r=t.direction.clone().multiplyScalar(1e4).add(t.origin);s.vertices.push(t.origin,r);n=new X.k({color:16748543});i=new X.j(s,n)}else if(t instanceof j){(s=new X.i).vertices.push(t.p0,t.p1);n=new X.k({color:9437183});i=new X.j(s,n)}else if(t instanceof R){(s=new X.i).vertices=Object(V.a)(t),s.faces.push(new X.g(0,1,2));n=new X.p({color:9408511,side:X.e});i=new X.o(s,n)}else if(t instanceof T){var o;(o=(s=new X.i).vertices).push.apply(o,Object(V.a)(t));n=new X.k({color:16748543});i=new X.j(s,n)}else if(t instanceof L);else if(t instanceof A){s=new X.i;for(var l=t.radius,c=0;c<=128;c++){var u=new h;u.x=l*Math.cos(Math.PI/64*c),u.y=l*Math.sin(Math.PI/64*c),s.vertices.push(u)}var y=N(new h(0,0,1),t.normal);(d=new X.n).makeRotationFromQuaternion(y),s.applyMatrix(d),s.translate(t.center.x,t.center.y,t.center.z);n=new X.k({color:9437183});(i=new X.j(s,n)).add(new J(t.center)),i.add(new J(new Y(t.center,t.normal)))}else if(t instanceof F){var d;s=new X.d(t.radius,128),n=new X.p({color:9408511,side:X.e}),y=N(new h(0,0,1),t.normal);(d=new X.n).makeRotationFromQuaternion(y),s.applyMatrix(d),s.translate(t.center.x,t.center.y,t.center.z),(i=new X.o(s,n)).add(new J(t.center)),i.add(new J(new Y(t.center,t.normal)))}return i}function B(t,e){var i="",n=0,s=function(t,e){var i=null;if("[object String]"!==Object.prototype.toString.call(t))try{i=JSON.stringify(t)}catch(t){console.error("json..."),console.error(t),e(t)}else try{t=t.replace(/(\')/g,'"'),i=JSON.stringify(JSON.parse(t))}catch(t){console.error("json..."),console.error(t),e(t)}return i}(t,e);if(!s)return s;var r=[],a=null,o=null,l=[];return s=(s=(s=(s=(s=s.replace(/([\{\}])/g,"\r\n$1\r\n")).replace(/([\[\]])/g,"\r\n$1\r\n")).replace(/(\,)/g,"$1\r\n")).replace(/(\r\n\r\n)/g,"\r\n")).replace(/\r\n\,/g,","),(l=s.split("\r\n")).forEach((function(t,e){var i=t.match(/\"/g)?t.match(/\"/g).length:0;i%2&&!a&&(a=e),i%2&&a&&a!=e&&(o=e),a&&o&&(r.push({start:a,end:o}),a=null,o=null)})),r.reverse().forEach((function(t,e){var i=l.slice(t.start,t.end+1);l.splice(t.start,t.end+1-t.start,i.join(""))})),s=(s=(s=l.join("\r\n")).replace(/\:\r\n\{/g,":{")).replace(/\:\r\n\[/g,":["),(l=s.split("\r\n")).forEach((function(t,e){console.log(t);var s=0,r=0,a="";for(t.match(/\{$/)||t.match(/\[$/)?r+=1:t.match(/\}$/)||t.match(/\]$/)||t.match(/\},$/)||t.match(/\],$/)?0!==n&&(n-=1):r=0,s=0;s<n;s++)a+="    ";i+=a+t+"\r\n",n+=r})),i.trim()}var W=i(309),H={name:"distance",props:{geo0:String,geo1:String},data:function(){return{loadingTag:"avs",resultText:""}},methods:{init:function(){var t=this.$refs.p2other;this.camera=new X.s(55,t.clientWidth/t.clientHeight,.01,1e3),this.camera.position.set(0,200,-120),this.scene=new X.x;var e=new X.b(.2,.2,.2),i=new X.q;this.mesh=new X.o(e,i),this.scene.add(this.mesh),this.renderer=new X.C({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(t.clientWidth,t.clientHeight),this.control=new W.a(this.camera,this.renderer.domElement),t.appendChild(this.renderer.domElement),this.scene.add(new X.v(100,8,10,64,696304,716959)),this.scene.add(new X.a(1e3)),this.testScene=new X.r,this.scene.add(this.testScene);var n=this;window.addEventListener("resize",(function(){n.$refs.p2other}));var s=Q(this.geo0,this.geo1,this.testScene);this.resultText=B(JSON.stringify(s))},refresh:function(){this.testScene.children=[];var t=Q(this.geo0,this.geo1,this.testScene);this.resultText=B(JSON.stringify(t))},animate:function(){this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.animate)}},mounted:function(){this.init(),this.animate()}},G=(i(310),i(16)),K=Object(G.a)(H,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-button",{attrs:{type:"primary"},on:{click:t.refresh}},[t._v("")]),t._v(" "),i("div",{ref:"p2other",staticClass:"container"}),t._v(" "),i("el-divider",{attrs:{"content-position":"left"}},[t._v("")]),t._v(" "),i("div",{ref:"infoPanel",staticClass:"info_panel"},[i("pre",[i("code",{staticClass:"json"},[t._v(" "+t._s(t.resultText))])])])],1)}),[],!1,null,null,null);e.default=K.exports}}]);